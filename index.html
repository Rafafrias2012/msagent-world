<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MS Agent Web</title>
    <link rel="stylesheet" href="https://unpkg.com/98.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
    <script src="agent.js" defer></script>
    <script src="app.js" defer></script>
</head>
<body>
    <div id="windows-container"></div>
    
    <!-- Login Screen -->
    <div id="login_screen" class="window">
        <div class="title-bar">
            <div class="title-bar-text">Login to MS Agent World</div>
        </div>
        <div class="window-body">
            <div class="field-row">
                <label for="login_nickname">Nickname:</label>
                <input id="login_nickname" type="text" maxlength="20">
            </div>
            <div class="field-row">
                <label for="login_room">Room ID:</label>
                <input id="login_room" type="text" value="main">
            </div>
            <div class="field-row-stacked buttons">
                <button id="login_button">Connect</button>
            </div>
        </div>
    </div>

    <!-- Boot Screen (initially hidden) -->
    <div id="boot_screen" style="display:none">
        <div class="boot-content">
            <div class="win-logo"></div>
            <div class="boot-progress">
                <div class="boot-bar"></div>
            </div>
            <div class="boot-text">Starting MS Agent World...</div>
        </div>
    </div>

    <!-- Main Application (initially hidden) -->
    <div id="main_app" style="display:none">
        <div id="agent_container"></div>
        
        <!-- Chat Bar -->
        <div id="taskbar" class="window">
            <div class="title-bar">
                <div class="title-bar-text">Chat</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize"></button>
                    <button id="chat_log_button" aria-label="Chat Log"></button>
                </div>
            </div>
            <div class="window-body">
                <div class="field-row">
                    <input id="send_message" type="text" placeholder="Type message here...">
                    <button id="send_button">Send</button>
                </div>
            </div>
        </div>
        
        <!-- Room Info -->
        <div id="room_info" class="window">
            <div class="title-bar">
                <div class="title-bar-text">Room Info</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize"></button>
                </div>
            </div>
            <div class="window-body">
                <p>Room: <span id="current_room">main</span></p>
                <p id="room_owner" style="display:none">You are the room owner</p>
                <p>Connected users: <span id="user_count">0</span></p>
            </div>
        </div>
    </div>
    
    <!-- Error Screen (initially hidden) -->
    <div id="error_screen" class="window" style="display:none">
        <div class="title-bar">
            <div class="title-bar-text">Error</div>
        </div>
        <div class="window-body">
            <div id="error_kick">
                You were kicked by <span id="error_kicker"></span>
            </div>
            <div class="field-row-stacked buttons">
                <button id="error_button">OK</button>
            </div>
        </div>
    </div>
</body>
</html>